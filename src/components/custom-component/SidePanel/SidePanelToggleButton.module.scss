@use '../../../assets/styles/themes' as *;

.toggle-button {
  position: fixed;
  top: calc(4rem + (100vh - 4rem) / 2); // Header height + half of remaining viewport height
  left: 5rem;
  width: 3.5rem;
  height: 3.5rem;
  background: linear-gradient(135deg, $secondary 0%, $accent 100%);
  border: 0.1875rem solid rgba(255, 255, 255, 0.4);
  border-radius: 50%;
  color: #ffffff;
  font-size: 1.5rem;
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow:
    0 0.5rem 1.5rem rgba(56, 178, 172, 0.4),
    0 0.25rem 0.75rem rgba(0, 0, 0, 0.2),
    inset 0 0.0625rem 0.125rem rgba(255, 255, 255, 0.3);
  z-index: 1001;
  transform: translateY(-50%) translateX(0.5rem);
  backdrop-filter: blur(0.625rem);

  // Icon styling for maximum visibility and contrast
  svg {
    color: #000000 !important;
    filter: drop-shadow(0 0.125rem 0.25rem rgba(255, 255, 255, 0.8));
    transition: transform 0.3s ease;
    font-weight: bold;
    font-size: 1.4rem;
    width: 1.4rem;
    height: 1.4rem;
    display: block;
    stroke: #ffffff;
    stroke-width: 0.5px;
  }

  &:hover {
    background: linear-gradient(135deg, $accent 0%, $secondary 100%);
    border-color: rgba(255, 255, 255, 0.5);
    transform: translateY(-50%) translateX(0.5rem) scale(1.15);
    box-shadow:
      0 0.75rem 2rem rgba(109, 190, 69, 0.5),
      0 0.375rem 1rem rgba(0, 0, 0, 0.3),
      inset 0 0.0625rem 0.125rem rgba(255, 255, 255, 0.4);

    svg {
      transform: scale(1.1);
    }
  }

  &:focus {
    outline: 0.125rem solid rgba(255, 255, 255, 0.8);
    outline-offset: 0.25rem;
  }

  &.open {
    left: 17.5rem;
    animation: pulse 2s infinite;
    
    // When open, show left arrow (indicates it will close/collapse)
    svg {
      transform: translateX(-0.0625rem); // Slight offset for visual balance
    }
  }

  &.collapsed {
    left: 5rem;
    animation: bounce 1s ease-out;
    
    // When collapsed, show right arrow (indicates it will open/expand)
    svg {
      transform: translateX(0.0625rem); // Slight offset for visual balance
    }
  }

  // Responsive positioning
  @media (min-width: 48.0625rem) {
    display: flex;
  }

  @media (max-width: 48rem) {
    display: none; // Hide on mobile, use header burger menu instead
  }
}

// Floating button animations
@keyframes pulse {
  0%, 100% {
    box-shadow:
      0 0.5rem 1.5rem rgba(56, 178, 172, 0.4),
      0 0.25rem 0.75rem rgba(0, 0, 0, 0.2),
      inset 0 0.0625rem 0.125rem rgba(255, 255, 255, 0.3);
  }
  50% {
    box-shadow:
      0 0.75rem 2rem rgba(56, 178, 172, 0.6),
      0 0.375rem 1rem rgba(0, 0, 0, 0.3),
      inset 0 0.0625rem 0.125rem rgba(255, 255, 255, 0.4);
  }
}

@keyframes bounce {
  0% {
    transform: translateY(-50%) scale(1);
  }
  50% {
    transform: translateY(-50%) scale(1.2);
  }
  100% {
    transform: translateY(-50%) scale(1);
  }
}
